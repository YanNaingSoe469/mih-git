{% extends 'master.html' %}

{% block title %}Create Project | {{user.name}}{% endblock %}

{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'createpj-style.css' %}">
{% endblock %}

{% block content %}
<div class="form-container" id="projects" style="padding-top: 100px;">
    <h1>Project Information</h1>
    <form>
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" placeholder="Type here">
        </div>

        <div class="form-group">
            <label for="innovator">Innovator</label>
            <input type="text" id="innovator" value="Mis. Emily Stone">
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" placeholder="Type here"></textarea>
        </div>

        <div class="form-group">
            <label for="duration">Duration</label>
            <input type="number" id="duration" value="0" min="0" style="width: 80px; margin-right: 8px;">
            <span>month</span>
        </div>

        <div class="form-group">
            <label class="image">Image</label>
            <div class="upload-box">
                <label for="image-upload" class="upload-label">Upload
                    <i class="bi bi-plus-circle-fill upload-icon"></i>
                </label>
                <input type="file" id="image-upload" style="display: none;">
            </div>
        </div>

        <div class="form-group">
            <label>Type</label>
            <div class="type-options">
                <button type="button" class="nav-btn type-btn active" data-type="software"> Software</button>
                <button type="button" class="nav-btn type-btn" data-type="hardware"> Hardware</button>
                <button type="button" class="nav-btn type-btn" data-type="ai"> AI</button>
            </div>
        </div>

        <section class="software-form" id="software-filters">
            <div class="form-card" style="border: 4px solid #004AAD; border-radius: 8px; padding: 35px;">

                <div class="form-group">
                    <label class="language">Language</label>
                    <div class="custom-dropdown">
                        <div class="dropdown-header">Choose language <i class="bi bi-chevron-down"></i>
                        </div>
                        <ul class="dropdown-list">
                            <li>Python</li>
                            <li>Java</li>
                            <li>C++</li>
                        </ul>
                    </div>
                </div>

                <div class="form-group">
                    <label class="framework">Framework</label>
                    <div class="custom-dropdown">
                        <div class="dropdown-header">Choose framework <i class="bi bi-chevron-down"></i>
                        </div>
                        <ul class="dropdown-list">
                            <li>React</li>
                            <li>Flutter</li>
                            <li>.NET</li>
                            <li>Laravel</li>
                        </ul>
                    </div>
                </div>

                <div class="form-group">
                    <label class="platform">Platform</label>
                    <div class="custom-dropdown">
                        <div class="dropdown-header">Choose platform <i class="bi bi-chevron-down"></i>
                        </div>
                        <ul class="dropdown-list">
                            <li>Website</li>
                            <li>Android</li>
                            <li>IOS</li>
                            <li>Desktop</li>
                        </ul>
                    </div>
                </div>

                <div class="form-group">
                    <label for="source">Source link</label>
                    <input type="text" id="link" placeholder="Type here">
                </div>
            </div>
        </section>

        <section class="hardware-form" id="hardware-filters">
            <div class="form-card" style="border: 4px solid #004AAD; border-radius: 8px; padding: 35px;">

                <div class="form-group">
                    <label class="skill">Skill Level</label>
                    <div class="custom-dropdown">
                        <div class="dropdown-header">Choose level <i class="bi bi-chevron-down"></i>
                        </div>
                        <ul class="dropdown-list">
                            <li>Easy</li>
                            <li>Intermediate</li>
                            <li>Advanced</li>
                        </ul>
                    </div>
                </div>

                <div class="form-group">
                    <label for="components">Components</label>
                    <select id="components" name="components[]" multiple>
                        <option value="Sensor">Sensor</option>
                        <option value="Camera">Camera</option>
                        <option value="Battery">Battery</option>
                        <option value="Display">Display</option>
                        <option value="Processor">Processor</option>
                        <option value="Speaker">Speaker</option>
                        <option value="WiFi">WiFi</option>
                        <option value="Bluetooth">Bluetooth</option>
                    </select>
                </div>


                <div class="form-group">
                    <label for="code">Code</label>
                    <textarea id="code" placeholder="Type here"></textarea>
                </div>
            </div>
        </section>

        <section class="ai-form" id="ai-filters">
            <div class="form-card" style="border: 4px solid #004AAD; border-radius: 8px; padding: 35px;">

                <div class="form-group">
                    <label class="focus">Focus</label>
                    <div class="custom-dropdown">
                        <div class="dropdown-header">Choose focus <i class="bi bi-chevron-down"></i>
                        </div>
                        <ul class="dropdown-list">
                            <li>Machine Learning</li>
                            <li>Deep Learning</li>
                            <li>NLP</li>
                            <li>Computer Vision</li>
                        </ul>
                    </div>
                </div>

                <div class="form-group">
                    <label for="algorithm">Algorithm</label>
                    <div class="checkbox-grid">
                        <label><input type="checkbox"> Decision Tree</label>
                        <label><input type="checkbox"> Random Forest</label>

                        <label><input type="checkbox"> Linear Regression</label>
                        <label><input type="checkbox"> Transformer</label>

                        <label><input type="checkbox"> Logistic Regression</label>
                        <label><input type="checkbox"> SVM</label>

                        <label><input type="checkbox"> KNN</label>
                        <label><input type="checkbox"> LSTM</label>

                        <label><input type="checkbox"> Autoencoder</label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="dataset">Dataset</label>
                    <input type="text" id="dataset" placeholder="Type here">
                </div>

                <div class="form-group">
                    <label for="source">Source link</label>
                    <input type="text" id="source" placeholder="Type here">
                </div>
            </div>
        </section>

        <div class="buttons">
            <button type="submit" class="btn btn-create">Create</button>
            <button type="button" class="btn btn-cancel" id="cancelBtn">Cancel</button>
        </div>

    </form>
</div>
{% endblock %}

{% block script %}
<script>
    const dropdownHeaders = document.querySelectorAll(".dropdown-header");
    dropdownHeaders.forEach(header => {
        header.addEventListener("click", () => {
        const parent = header.parentElement;
        parent.classList.toggle("active");
        dropdownHeaders.forEach(h => {
            if(h !== header) h.parentElement.classList.remove("active");
        });
       });
    });

  const dropdownLists = document.querySelectorAll(".dropdown-list li");
  dropdownLists.forEach(item => {
    item.addEventListener("click", () => {
      const dropdown = item.closest(".custom-dropdown");
      const header = dropdown.querySelector(".dropdown-header");
      header.childNodes[0].nodeValue = item.textContent + " ";
      dropdown.classList.remove("active");
    });
  });

  document.addEventListener("click", (e) => {
    if(!e.target.closest(".custom-dropdown")) {
      dropdownHeaders.forEach(h => h.parentElement.classList.remove("active"));
    }
  });



  const typeButtons = document.querySelectorAll(".type-btn");
  const softwareForm = document.querySelector(".software-form");
  const hardwareForm = document.querySelector(".hardware-form");
  const aiForm = document.querySelector(".ai-form");

  function hideAllForms() {
    softwareForm.style.display = "none";
    hardwareForm.style.display = "none";
    aiForm.style.display = "none";
  }

  typeButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      typeButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");

      hideAllForms();

      const type = btn.getAttribute("data-type");
      if (type === "software") softwareForm.style.display = "block";
      if (type === "hardware") hardwareForm.style.display = "block";
      if (type === "ai") aiForm.style.display = "block";
    });
  });


  // Models //
 const createBtn = document.querySelector(".btn-create");
const modal = document.getElementById("successModal");
const modalBackBtn = document.getElementById("modalBackBtn");
createBtn.addEventListener("click", function(e) {
    e.preventDefault();
    modal.style.display = "flex";
});

modalBackBtn.addEventListener("click", function() {
    window.location.href = "/Website_Design/Myanmar InnoHub/Homepage/index.html";
});

const cancelBtn = document.getElementById("cancelBtn");
cancelBtn.addEventListener("click", function(){
    window.location.href = "/Website_Design/Myanmar InnoHub/Homepage/index.html";
});

window.addEventListener("click", function(event) {
    if(event.target == modal){
        modal.style.display = "none";
    }
});

/* Multi Select Tag */
new MultiSelectTag('components', {
  rounded: true,
  shadow: true,
  placeholder: 'Select components',
  tagColor: {
    textColor: '#004AAD',
    borderColor: '#004AAD',
    bgColor: '#E4F8FF'
  },
  onChange: function(values) {
    console.log(values);
  }
});
</script>
{% endblock %}